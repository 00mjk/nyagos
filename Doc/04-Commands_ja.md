## 内蔵コマンド

これらのコマンドはコマンド名とは別にエイリアスを持っています。
たとえば `ls` は `__ls__` というエイリアスを持っています。

### `cd ドライブ:ディレクトリ`

現在のカレントドライブ、ディレクトリを変更します。
引数を省略すると %USERPROFILE% の差す先のディレクトリへ移動します。

* `cd -` : 一つ前にいたディレクトリへ移動します
* `cd -N` : N 回前のディレクトリへ移動します
* `cd -h` , `cd ?` : 過去いたディレクトリを表示します
* `cd --history` : 過去いたディレクトリを全て装飾なしで表示します

### `exit`

NYAGOS を終了します。

### `history [件数]`

ヒストリ内容を表示します。件数を省略すると、最近の10件が表示されます。

### `ln [-s] SRC DST`

ハードリンク、もしくは、シンボリックリンクを作成します。
`nyagos.d\lns.lua` で定義されるエイリアス lns は UAC 昇格と
`ln -s` を実行します。

### `ls [-オプション] …`

ディレクトリの一覧を表示します。
サポートしているオプションは以下の通りです。

* `-l` ロングフォーマットで一覧を表示します。
* `-F` ディレクトリ名の末尾に /  を、実行ファイル名の末尾に * を表示します。
* `-o` カラー化します
* `-a` 隠しファイルや「.」で始まるファイル名を含め、全て表示します。
* `-R` サブディレクトリ以下も表示します。
* `-1` ファイル名だけを表示します。
* `-t` 最終変更日時でソートします。
* `-r` ソート順を逆転します。
* `-h` -l 使用時に、人間が読みやすい形式でサイズを表記します (例:1K 234M 2G)
* `-S` ファイルサイズでソートします。

### `pwd`

現在のカレントドライブ + ディレクトリを表示します。

* `pwd -N` : N 回 cd で移動する前のディレクトリを表示します。

### `set 変数名=値`

環境変数に値を設定します。値に空白等を含む場合、CMD.EXE と同様に
「`set "変数名=値"`」とします。= 以降を省略すると、現在の変数の内容を
表示します。

以下の変数は特別な意味を持ちます。

* `PROMPT` … プロンプトの文字列を設定します。`$P` 等のマクロ文字はCMD.EXE と同じです。shiena 様開発のモジュールによりエスケープシーケンスが使えます。

### `touch [-t [CC[YY]MMDDhhmm[.ss]]] [-r 参照ファイル] ファイル名…`

ファイルが存在すれば更新日時を更新し、存在しなければ新規作成します。

### `which [-a] COMMAND-NAME`

コマンド名に対して、どのファイルが実行されるか表示します

* `-a` - %PATH% 上の全ての実行ファイルを表示します。

### `copy SOURCE-FILENAME DESTINATE-FILENAME`
### `copy SOURCE-FILENAME(S)... DESINATE-DIRECTORY`
### `move OLD-FILENAME NEW-FILENAME`
### `move SOURCE-FILENAME(S)... DESITINATE-DIRECTORY`
### `del FILE(S)...`
### `erase FILE(S)...`
### `mkdir [/p] NEWDIR(S)...`
### `rmdir [/s] DIR(S)...`
### `pushd`
### `popd`
### `dirs`

これらの内蔵版は、上書きや削除の際に常にプロンプトで実行可否を問い合わせます。

### `source バッチファイル名`

バッチファイルを CMD.EXE で実行して、CMD.EXE が変更した環境変数と
カレントディレクトリを NYAGOS.EXE に取り込みます。

コマンド名として「`source`」の代わりに「`.`」(ドット)一文字も使う
ことができます。

<!-- set:fenc=utf8: -->
